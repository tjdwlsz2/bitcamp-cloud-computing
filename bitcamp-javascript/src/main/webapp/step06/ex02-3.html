<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>자바스크립트</title>
<style>
div {
    border: 1px solid red;
    margin: 10px 20px 30px 40px;
}
#d1 {
    height: 150px;
}
#d2 {
    height: 150px;
}
</style>
</head>
<body>
<h1>DOM API - 속성 설정하기 II</h1>

<div id="d1"></div>
<div id="d2"></div>

<script>
"use strict"

// 자바스크립트로 태그를 제어하기 위해 
// 태그에 임의로 새 속성을 추가하는 경우가 있다.
// 이때 새 속성과 태그에 원래 있던 속성이 충돌하지 않도록 하기 위해 
// 즉 새 속성이 이름이 태그에 있던 기존 속성의 이름과 같지 않도록 하기 위해
// 새 속성의 이름은 "data-xxx" 식으로 작성할 것을 
// HTML 명세서에서는 권하고 있다.

// 방법1) 
var e1 = document.createElement("a");
e1.href = "http://www.daum.net";
e1.innerHTML = "다음카카오";
d1.appendChild(e1);

// a 태그에 새 속성을 추가해보자!
//e1.data-no = 100; // 속성명에 '-' 가 있으면 "객체.속성명" 문법을 사용할 수 없다.
e1["data-no"] = 100;

// 이 방식은 객체에 프로퍼티를 추가하는 것이다.
// => 당연히 객체에 해당 프로퍼티가 들어 있는지 hasOwnProperty()로 확인할 수 있다.
console.log(e1.hasOwnProperty("data-no"));

// => getAttribute()는 setAttribute()로 등록한 태그 속성만 조회할 수 있다.
console.log(e1.getAttribute("data-no"));

// => selector에서는 객체의 프로퍼티가 아니라 태그 속성을 사용한다.
//    따라서 위에서 e1['data-no']로 등록한 것은
//    태그의 속성이 아니라 객체의 프로퍼티이기 때문에 selector 문법에서 사용할 수 없다.
console.log(document.querySelector("#d1 > a[data-no='100']"))

console.log("--------------------------");


// 방법2) 
var e2 = document.createElement("a");
e2.setAttribute("href", "http://www.daum.net");
e2.innerHTML = "다음카카오";
d2.appendChild(e2);

//a 태그에 새 속성을 추가해보자!
e2.setAttribute("data-no", "100");

// setAttribute()를 객체의 프로퍼티가 아니라 태그의 속성을 추가한다.

// => 따라서 객체의 프로퍼티를 찾는 hasOwnProperty()에서는 해당 속성을 찾을 수 없다.
console.log(e2.hasOwnProperty("data-no"));

// => 그러나 태그 속성을 찾는 getAttribute()에서는 찾을 수 있다.
console.log(e2.getAttribute("data-no"));

// => 태그의 속성이기 때문에 selector 문법에서 사용할 수 있다.
console.log(document.querySelector("#d2 > a[data-no='100']"))


// 보통 태그에 속성을 추가할 때는 UI을 제어하려는 것이다.
// 자바스크립트에서 UI를 제어한다는 것은 selector를 이용하여 
// 해당 태그를 찾아서 처리하는 것을 말한다.
// 그러니 태그에 속성을 추가할 때는 setAttribute()를 사용하라!
// 
</script>


</body>
</html>






